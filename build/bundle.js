var app=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?n(e):r}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){}function l(e){return e()}function f(){return Object.create(null)}function d(e){e.forEach(l)}function g(e){return"function"==typeof e}function p(e,n){return e!=e?n==n:e!==n||e&&"object"===t(e)||"function"==typeof e}function m(e,t,n){e.$$.on_destroy.push(function(e){if(null==e)return c;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e.subscribe.apply(e,n);return o.unsubscribe?function(){return o.unsubscribe()}:o}(t,n))}function h(e,t){e.appendChild(t)}function y(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function P(){return w(" ")}function $(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e){return Array.from(e.childNodes)}function S(e,t){t=""+t,e.data!==t&&(e.data=t)}function k(e,t){(null!=t||e.value)&&(e.value=t)}var _;function L(e){_=e}function R(e){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(e)}var M=[],T=[],j=[],A=[],C=Promise.resolve(),O=!1;function F(e){j.push(e)}var I=!1,z=new Set;function N(){if(!I){I=!0;do{for(var e=0;e<M.length;e+=1){var t=M[e];L(t),D(t.$$)}for(M.length=0;T.length;)T.pop()();for(var n=0;n<j.length;n+=1){var r=j[n];z.has(r)||(z.add(r),r())}j.length=0}while(M.length);for(;A.length;)A.pop()();O=!1,I=!1,z.clear()}}function D(e){if(null!==e.fragment){e.update(),d(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}var G=new Set;function B(e,t){e&&e.i&&(G.delete(e),e.i(t))}function q(e,t,n,r){if(e&&e.o){if(G.has(e))return;G.add(e),(void 0).c.push((function(){G.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function H(e){e&&e.c()}function J(e,t,n){var r=e.$$,o=r.fragment,i=r.on_mount,a=r.on_destroy,s=r.after_update;o&&o.m(t,n),F((function(){var t=i.map(l).filter(g);a?a.push.apply(a,u(t)):d(t),e.$$.on_mount=[]})),s.forEach(F)}function U(e,t){var n=e.$$;null!==n.fragment&&(d(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(e,t){-1===e.$$.dirty[0]&&(M.push(e),O||(O=!0,C.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],u=_;L(e);var s=t.props||{},l=e.$$={fragment:null,ctx:null,props:i,update:c,not_equal:o,bound:f(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:f(),dirty:a},g=!1;if(l.ctx=n?n(e,s,(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return l.ctx&&o(l.ctx[t],l.ctx[t]=r)&&(l.bound[t]&&l.bound[t](r),g&&V(e,t)),n})):[],l.update(),g=!0,d(l.before_update),l.fragment=!!r&&r(l.ctx),t.target){if(t.hydrate){var p=x(t.target);l.fragment&&l.fragment.l(p),p.forEach(v)}else l.fragment&&l.fragment.c();t.intro&&B(e.$$.fragment),J(e,t.target,t.anchor),N()}L(u)}var X=function(){function t(){e(this,t)}var n,r,o;return n=t,(r=[{key:"$destroy",value:function(){U(this,1),this.$destroy=c}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(){}}])&&s(n.prototype,r),o&&s(n,o),t}();function Y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z(e,t){return e(t={exports:{}},t.exports),t.exports}var K=Z((function(e,n){function r(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function o(e,t,n){return void 0===n&&(n={}),r({type:"Point",coordinates:e},t,n)}function i(e,t,n){void 0===n&&(n={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<a[a.length-1].length;u++)if(a[a.length-1][u]!==a[0][u])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function a(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function u(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function c(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function l(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function f(e,t){void 0===t&&(t="kilometers");var r=n.factors[t];if(!r)throw new Error(t+" units is invalid");return e*r}function d(e,t){void 0===t&&(t="kilometers");var r=n.factors[t];if(!r)throw new Error(t+" units is invalid");return e/r}function g(e){return 180*(e%(2*Math.PI))/Math.PI}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=6371008.8,n.factors={centimeters:100*n.earthRadius,centimetres:100*n.earthRadius,degrees:n.earthRadius/111325,feet:3.28084*n.earthRadius,inches:39.37*n.earthRadius,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:1e3*n.earthRadius,millimetres:1e3*n.earthRadius,nauticalmiles:n.earthRadius/1852,radians:1,yards:n.earthRadius/1.0936},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1/1.0936},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},n.feature=r,n.geometry=function(e,t,n){switch(e){case"Point":return o(t).geometry;case"LineString":return a(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return c(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return l(t).geometry;default:throw new Error(e+" is invalid")}},n.point=o,n.points=function(e,t,n){return void 0===n&&(n={}),u(e.map((function(e){return o(e,t)})),n)},n.polygon=i,n.polygons=function(e,t,n){return void 0===n&&(n={}),u(e.map((function(e){return i(e,t)})),n)},n.lineString=a,n.lineStrings=function(e,t,n){return void 0===n&&(n={}),u(e.map((function(e){return a(e,t)})),n)},n.featureCollection=u,n.multiLineString=s,n.multiPoint=c,n.multiPolygon=l,n.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},n.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},n.radiansToLength=f,n.lengthToRadians=d,n.lengthToDegrees=function(e,t){return g(d(e,t))},n.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},n.radiansToDegrees=g,n.degreesToRadians=function(e){return e%360*Math.PI/180},n.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return f(d(e,t),n)},n.convertArea=function(e,t,r){if(void 0===t&&(t="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=n.areaFactors[t];if(!o)throw new Error("invalid original units");var i=n.areaFactors[r];if(!i)throw new Error("invalid final units");return e/o*i},n.isNumber=p,n.isObject=function(e){return!!e&&e.constructor===Object},n.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!p(e))throw new Error("bbox must only contain numbers")}))},n.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(t(e)))throw new Error("id must be a number or a string")},n.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},n.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},n.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},n.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},n.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},n.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},n.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}}));Y(K);K.earthRadius,K.factors,K.unitsFactors,K.areaFactors,K.feature,K.geometry,K.point,K.points,K.polygon,K.polygons,K.lineString,K.lineStrings,K.featureCollection,K.multiLineString,K.multiPoint,K.multiPolygon,K.geometryCollection,K.round,K.radiansToLength,K.lengthToRadians,K.lengthToDegrees,K.bearingToAzimuth,K.radiansToDegrees,K.degreesToRadians,K.convertLength,K.convertArea,K.isNumber,K.isObject,K.validateBBox,K.validateId,K.radians2degrees,K.degrees2radians,K.distanceToDegrees,K.distanceToRadians,K.radiansToDistance,K.bearingToAngle,K.convertDistance;var Q=Z((function(e,t){function n(e,t,r){if(null!==e)for(var o,i,a,u,s,c,l,f,d=0,g=0,p=e.type,m="FeatureCollection"===p,h="Feature"===p,y=m?e.features.length:1,v=0;v<y;v++){s=(f=!!(l=m?e.features[v].geometry:h?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var b=0;b<s;b++){var w=0,P=0;if(null!==(u=f?l.geometries[b]:l)){c=u.coordinates;var $=u.type;switch(d=!r||"Polygon"!==$&&"MultiPolygon"!==$?0:1,$){case null:break;case"Point":if(!1===t(c,g,v,w,P))return!1;g++,w++;break;case"LineString":case"MultiPoint":for(o=0;o<c.length;o++){if(!1===t(c[o],g,v,w,P))return!1;g++,"MultiPoint"===$&&w++}"LineString"===$&&w++;break;case"Polygon":case"MultiLineString":for(o=0;o<c.length;o++){for(i=0;i<c[o].length-d;i++){if(!1===t(c[o][i],g,v,w,P))return!1;g++}"MultiLineString"===$&&w++,"Polygon"===$&&P++}"Polygon"===$&&w++;break;case"MultiPolygon":for(o=0;o<c.length;o++){for(P=0,i=0;i<c[o].length;i++){for(a=0;a<c[o][i].length-d;a++){if(!1===t(c[o][i][a],g,v,w,P))return!1;g++}P++}w++}break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(!1===n(u.geometries[o],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function o(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function i(e,t){var n,r,o,i,a,u,s,c,l,f,d=0,g="FeatureCollection"===e.type,p="Feature"===e.type,m=g?e.features.length:1;for(n=0;n<m;n++){for(u=g?e.features[n].geometry:p?e.geometry:e,c=g?e.features[n].properties:p?e.properties:{},l=g?e.features[n].bbox:p?e.bbox:void 0,f=g?e.features[n].id:p?e.id:void 0,a=(s=!!u&&"GeometryCollection"===u.type)?u.geometries.length:1,o=0;o<a;o++)if(null!==(i=s?u.geometries[o]:u))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,d,c,l,f))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],d,c,l,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,d,c,l,f))return!1;d++}}function a(e,t){i(e,(function(e,n,r,o,i){var a,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(K.feature(e,r,{bbox:o,id:i}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var s=0;s<e.coordinates.length;s++){var c={type:a,coordinates:e.coordinates[s]};if(!1===t(K.feature(c,r),n,s))return!1}}))}function u(e,t){a(e,(function(e,r,o){var i=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,s=0,c=0,l=0;return!1!==n(e,(function(n,a,f,d,g){if(void 0===u||r>s||d>c||g>l)return u=n,s=r,c=d,l=g,void(i=0);var p=K.lineString([u,n],e.properties);if(!1===t(p,r,o,g,i))return!1;i++,u=n}))&&void 0}}}))}function s(e,t){if(!e)throw new Error("geojson is required");a(e,(function(e,n,r){if(null!==e.geometry){var o=e.geometry.type,i=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,n,r,0,0))return!1;break;case"Polygon":for(var a=0;a<i.length;a++)if(!1===t(K.lineString(i[a],e.properties),n,r,a))return!1}}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.coordEach=n,t.coordReduce=function(e,t,r,o){var i=r;return n(e,(function(e,n,o,a,u){i=0===n&&void 0===r?e:t(i,e,n,o,a,u)}),o),i},t.propEach=r,t.propReduce=function(e,t,n){var o=n;return r(e,(function(e,r){o=0===r&&void 0===n?e:t(o,e,r)})),o},t.featureEach=o,t.featureReduce=function(e,t,n){var r=n;return o(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.coordAll=function(e){var t=[];return n(e,(function(e){t.push(e)})),t},t.geomEach=i,t.geomReduce=function(e,t,n){var r=n;return i(e,(function(e,o,i,a,u){r=0===o&&void 0===n?e:t(r,e,o,i,a,u)})),r},t.flattenEach=a,t.flattenReduce=function(e,t,n){var r=n;return a(e,(function(e,o,i){r=0===o&&0===i&&void 0===n?e:t(r,e,o,i)})),r},t.segmentEach=u,t.segmentReduce=function(e,t,n){var r=n,o=!1;return u(e,(function(e,i,a,u,s){r=!1===o&&void 0===n?e:t(r,e,i,a,u,s),o=!0})),r},t.lineEach=s,t.lineReduce=function(e,t,n){var r=n;return s(e,(function(e,o,i,a){r=0===o&&void 0===n?e:t(r,e,o,i,a)})),r},t.findSegment=function(e,t){if(t=t||{},!K.isObject(t))throw new Error("options is invalid");var n,r=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),u=u||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var s=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=s.length+a-1),K.lineString([s[a],s[a+1]],u,t);case"Polygon":return i<0&&(i=s.length+i),a<0&&(a=s[i].length+a-1),K.lineString([s[i][a],s[i][a+1]],u,t);case"MultiLineString":return o<0&&(o=s.length+o),a<0&&(a=s[o].length+a-1),K.lineString([s[o][a],s[o][a+1]],u,t);case"MultiPolygon":return o<0&&(o=s.length+o),i<0&&(i=s[o].length+i),a<0&&(a=s[o][i].length-a-1),K.lineString([s[o][i][a],s[o][i][a+1]],u,t)}throw new Error("geojson is invalid")},t.findPoint=function(e,t){if(t=t||{},!K.isObject(t))throw new Error("options is invalid");var n,r=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),u=u||e.features[r].properties,n=e.features[r].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var s=n.coordinates;switch(n.type){case"Point":return K.point(s,u,t);case"MultiPoint":return o<0&&(o=s.length+o),K.point(s[o],u,t);case"LineString":return a<0&&(a=s.length+a),K.point(s[a],u,t);case"Polygon":return i<0&&(i=s.length+i),a<0&&(a=s[i].length+a),K.point(s[i][a],u,t);case"MultiLineString":return o<0&&(o=s.length+o),a<0&&(a=s[o].length+a),K.point(s[o][a],u,t);case"MultiPolygon":return o<0&&(o=s.length+o),i<0&&(i=s[o].length+i),a<0&&(a=s[o][i].length-a),K.point(s[o][i][a],u,t)}throw new Error("geojson is invalid")}}));Y(Q);Q.coordEach,Q.coordReduce,Q.propEach,Q.propReduce,Q.featureEach,Q.featureReduce,Q.coordAll,Q.geomEach,Q.geomReduce,Q.flattenEach,Q.flattenReduce,Q.segmentEach,Q.segmentReduce,Q.lineEach,Q.lineReduce,Q.findSegment,Q.findPoint;var ee=Y(Z((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[1/0,1/0,-1/0,-1/0];return Q.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}})));function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ne=[];function re(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=[];function o(n){if(p(e,n)&&(e=n,t)){for(var o=!ne.length,i=0;i<r.length;i+=1){var a=r[i];a[1](),ne.push(a,e)}if(o){for(var u=0;u<ne.length;u+=2)ne[u][0](ne[u+1]);ne.length=0}}}function i(t){o(t(e))}function a(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,u=[i,a];return r.push(u),1===r.length&&(t=n(o)||c),i(e),function(){var e=r.indexOf(u);-1!==e&&r.splice(e,1),0===r.length&&(t(),t=null)}}return{set:o,update:i,subscribe:a}}var oe=re(null),ie=re(null);function ae(e,t,n){var r=e.slice();return r[9]=t[n],r}function ue(e){var t,n,r,o,i,a=e[9].name+"",u=(e[9].system?" | ".concat(e[9].system):"")+"";function s(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return((t=e)[8].apply(t,[e[9]].concat(r)))}return{c:function(){t=b("div"),n=b("strong"),r=w(a),o=w(u),E(t,"class","svelte-11vlo34")},m:function(e,a,u){y(e,t,a),h(t,n),h(n,r),h(t,o),u&&i(),i=$(t,"click",s)},p:function(t,n){e=t,2&n&&a!==(a=e[9].name+"")&&S(r,a),2&n&&u!==(u=(e[9].system?" | ".concat(e[9].system):"")+"")&&S(o,u)},d:function(e){e&&v(t),i()}}}function se(e){for(var t,n,r,o,i,a=e[1],u=[],s=0;s<a.length;s+=1)u[s]=ue(ae(e,a,s));return{c:function(){t=b("div"),n=b("input"),r=P(),o=b("div");for(var e=0;e<u.length;e+=1)u[e].c();E(n,"class","search svelte-11vlo34"),E(n,"type","text"),E(n,"placeholder","Type here to search by Hospital or System"),E(n,"autocomplete","off"),E(o,"class","autocomplete-items svelte-11vlo34"),E(t,"class","content svelte-11vlo34")},m:function(a,s,c){y(a,t,s),h(t,n),k(n,e[0]),h(t,r),h(t,o);for(var l=0;l<u.length;l+=1)u[l].m(o,null);c&&d(i),i=[$(n,"input",e[7]),$(n,"keyup",e[3])]},p:function(e,t){var r=te(t,1)[0];if(1&r&&n.value!==e[0]&&k(n,e[0]),6&r){var i;for(a=e[1],i=0;i<a.length;i+=1){var s=ae(e,a,i);u[i]?u[i].p(s,r):(u[i]=ue(s),u[i].c(),u[i].m(o,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=a.length}},i:c,o:c,d:function(e){e&&v(t),function(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(u,e),d(i)}}}function ce(e,t,n){var r,o;m(e,oe,(function(e){return n(5,r=e)})),m(e,ie,(function(e){return n(6,o=e)}));var i="",a=[],u=[];function s(e){n(1,a=[]),n(0,i=e.name),o.flyTo({center:e.coords,zoom:13})}return e.$$.update=function(){32&e.$$.dirty&&r&&(u=r.facility.features.map((function(e){var t=e.properties,n=t.name,r=t.system;return{name:n,system:r,coords:e.geometry.coordinates,text:"".concat(n.toLowerCase(),", ").concat(r.toLowerCase())}})))},[i,a,s,function(){i.length>1&&n(1,a=u.filter((function(e){return e.text.includes(i.toLowerCase())})).slice(0,5))},u,r,o,function(){i=this.value,n(0,i)},function(e){return s(e)}]}var le=function(t){function i(t){var a;return e(this,i),W(n(a=r(this,o(i).call(this))),t,ce,se,p,{}),a}return a(i,t),i}(X);function fe(e){var t,n;return{c:function(){t=b("div"),E(n=b("div"),"id","map"),E(n,"class","svelte-12j1fpv"),E(t,"class","content svelte-12j1fpv")},m:function(r,o){y(r,t,o),h(t,n),e[3](n)},p:c,i:c,o:c,d:function(n){n&&v(t),e[3](null)}}}function de(e,t,n){var r,o,i;return m(e,oe,(function(e){return n(2,r=e)})),R((function(){n(1,i=new mapboxgl.Map({container:"map",style:carto.basemaps.voyager,center:[-76.358493,42.650281],zoom:5.3})),ie.set(i)})),e.$$.update=function(){if(6&e.$$.dirty&&i&&r){var t=new carto.source.GeoJSON(r.county),n=new carto.source.GeoJSON(r.facility),o=new carto.Layer("county",t,new carto.Viz("\n                color: ramp(\n                    zoomRange([6,10]),\n                        [opacity(ramp(buckets($lawsuits_per_10000, [0,1,11,51,101,150]),\n                        [#d8d9da, #e2f7fe,#bfe1ec,#91c4db,#69b1ce,#006a92,#003b54]),1)\n                        opacity(ramp(buckets($lawsuits_per_10000, [0,1,11,51,101,150]),\n                        [#d8d9da, #e2f7fe,#bfe1ec,#91c4db,#69b1ce,#006a92,#003b54]),0.2)\n                    ]\n                    )\n                strokeWidth: 1\n                strokeColor: ramp(zoomRange([6,8]),[#f9f9f9,#959595])\n            ")),a=new carto.Layer("facility",n,new carto.Viz("\n                @category: ramp($system,prism)\n                @name: $name\n                @system: $system\n                @lawsuits: $lawsuits\n                @link: $link\n                width: ramp(zoomrange([5,6.5,10]),[1.5,4,scaled($lawsuits,16) + 2])\n                strokeColor: ramp(zoomRange([5,7]),[#f9f9f9,#959595])\n                color: ramp(zoomRange([5,7]),[white,opacity(@category,0.8)])\n            "));o.addTo(i),a.addTo(i),new carto.Interactivity(a).on("featureClick",(function(e){var t=e.coordinates,n=e.features;if(n.length>0){var r=[];n.forEach((function(e){var t=e.variables,n=t.name,o=t.system,i=t.lawsuits;t.link;r.push('\n                            <h4><a target="_blank" href="'.concat(e.link,'">').concat(n.value,"</a></h4>\n                            ").concat(o?"<p><strong>System:</strong> ".concat(o.value,"</p>"):"","\n                            <p><strong>Amount of Lawsuits:</strong> ").concat(i.value,"</p>\n                         "))})),(new mapboxgl.Popup).setLngLat([t.lng,t.lat]).setHTML(r.join("<br/>")).addTo(i)}}))}},[o,i,r,function(e){T[e?"unshift":"push"]((function(){n(0,o=e)}))}]}var ge=function(t){function i(t){var a;return e(this,i),W(n(a=r(this,o(i).call(this))),t,de,fe,p,{}),a}return a(i,t),i}(X);function pe(e){var t,n,r,o,i,a,u,s;return{c:function(){var e;t=b("div"),(n=b("h4")).textContent="Hospital Lawsuits Against Patients by County, 2015–2019",r=P(),(o=b("h5")).textContent="Rate per  10,000 People",i=P(),e="svg",a=document.createElementNS("http://www.w3.org/2000/svg",e),u=P(),(s=b("h6")).textContent="Zoom in or search to show lawsuits by hospital facility",E(n,"class","svelte-15aegl3"),E(o,"class","svelte-15aegl3"),E(a,"class","svelte-15aegl3"),E(t,"class","content svelte-15aegl3")},m:function(c,l){y(c,t,l),h(t,n),h(t,r),h(t,o),h(t,i),h(t,a),e[3](a),h(t,u),h(t,s)},p:c,i:c,o:c,d:function(n){n&&v(t),e[3](null)}}}function me(e,t,n){var r,o,i;return m(e,oe,(function(e){return n(1,r=e)})),m(e,ie,(function(e){return n(2,o=e)})),e.$$.update=function(){if(7&e.$$.dirty&&r){var t={top:20,right:20,bottom:100,left:40},n=400-t.left-t.right,a=400-t.top-t.bottom,u=d3.scaleBand().range([0,n]).padding(.1),s=d3.scaleLinear().range([a,0]);var c=d3.select(i).attr("width",n+t.left+t.right).attr("height",a+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")"),l=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),f=r.county.features.map((function(e){return e.properties})).filter((function(e){return e.lawsuits_per_10000}));u.domain(f.map((function(e){return e.name}))),s.domain([0,d3.max(f,(function(e){return e.lawsuits_per_10000}))]),c.selectAll(".bar").data(f).enter().append("rect").attr("class","bar").attr("x",(function(e){return u(e.name)})).attr("width",u.bandwidth()).attr("y",(function(e){return s(e.lawsuits_per_10000)})).attr("height",(function(e){return a-s(e.lawsuits_per_10000)})).attr("fill",(function(e){return(t=e.lawsuits_per_10000)>150?"#003b54":t>101?"#006a92":t>51?"#69b1ce":t>11?"#91c4db":t>1?"#bfe1ec":t>0?"#e2f7fe":"#d8d9da";var t})).on("mouseover",(function(e){l.transition().duration(100).style("opacity",.9),l.html("\n                                <p><strong>".concat(e.name,"</strong></p>\n                                <p><strong>Lawsuits:</strong> ").concat(e.lawsuits,"</p>\n                                <p><strong>Rate per 10,000:</strong> ").concat(e.lawsuits_per_10000,"</p>\n                        ")).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")})).on("mouseout",(function(e){l.transition().duration(400).style("opacity",0)})).on("click",(function(e){o.fitBounds(e.bounds,{padding:20})})),c.append("g").attr("transform","translate(0,"+a+")").call(d3.axisBottom(u)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-60)"),c.append("g").call(d3.axisLeft(s))}},[i,r,o,function(e){T[e?"unshift":"push"]((function(){n(0,i=e)}))}]}var he=function(t){function i(t){var a;return e(this,i),W(n(a=r(this,o(i).call(this))),t,me,pe,p,{}),a}return a(i,t),i}(X);function ye(e){var t,n,r,o,i,a=new le({}),u=new ge({}),s=new he({});return{c:function(){t=b("main"),H(a.$$.fragment),n=P(),r=b("div"),H(u.$$.fragment),o=P(),H(s.$$.fragment),E(r,"class","vis svelte-1sy78zu")},m:function(e,c){y(e,t,c),J(a,t,null),h(t,n),h(t,r),J(u,r,null),h(r,o),J(s,r,null),i=!0},p:c,i:function(e){i||(B(a.$$.fragment,e),B(u.$$.fragment,e),B(s.$$.fragment,e),i=!0)},o:function(e){q(a.$$.fragment,e),q(u.$$.fragment,e),q(s.$$.fragment,e),i=!1},d:function(e){e&&v(t),U(a),U(u),U(s)}}}function ve(e){return R((function(){Promise.all([d3.json("./datasets/new-york-counties.geojson"),d3.csv("./datasets/county-lawsuits-filed-between-2015–2019.csv"),d3.csv("./datasets/facility-lawsuits-filed-between-2015–2019.csv")]).then((function(e){var t=e[0];t.features.forEach((function(t){var n=t.properties.NAME,r=e[1].find((function(e){return e.County===n}));if(r){var o=ee(t);t.properties={name:n,lawsuits:+r["Number of Lawsuits"],lawsuits_per_10000:+r["Rate per 10,000 People"],bounds:o}}else t.properties={name:n,lawsuits:null,lawsuits_per_10000:null}}));var n={type:"FeatureCollection",features:[]};e[2].forEach((function(e){n.features.push({type:"Feature",properties:{name:e["Standardized Facility Name"].trim(),system:e.System.trim(),lawsuits:+e["Number of Lawsuits"],link:e.Link.trim(),id:e.ID},geometry:{type:"Point",coordinates:[e.Lng,e.Lat]}})})),oe.set({county:t,facility:n})})).catch((function(e){console.error(e.message)}))})),[]}return new(function(t){function i(t){var a;return e(this,i),W(n(a=r(this,o(i).call(this))),t,ve,ye,p,{}),a}return a(i,t),i}(X))({target:document.body})}();
//# sourceMappingURL=bundle.js.map
